제공하신 날짜 범위 검증 함수 명세를 검증하겠습니다.

## 검증 결과

### 명확성
- **평가**: 개선 필요
- **의견**: 
  - "시작일이 종료일보다 이전"이라는 표현이 기본 동작과 에러 처리 섹션에서 다르게 해석될 수 있습니다
  - ISO 8601 문자열의 구체적 포맷(날짜만? 시간 포함?)이 명시되지 않았습니다
  - "에러"가 예외(exception)를 의미하는지, 에러 객체 반환을 의미하는지 불명확합니다
  - 100년 이상 차이 시 "경고 메시지"가 반환 형식과 어떻게 결합되는지 미명시

### 완전성
- **평가**: 개선 필요
- **의견**:
  - 시간대(timezone) 처리 방법이 명시되지 않았습니다
  - 윤년, 일광절약시간(DST) 처리 언급이 없습니다
  - Date 객체가 Invalid Date인 경우 처리 누락
  - 타임스탬프(number) 입력 허용 여부 불명확
  - 경고 메시지의 정확한 임계값(100년 포함 여부)과 메시지 내용 미정의
  - 100년 경고 시 `isValid`는 true인지 false인지 불명확

### 테스트 가능성
- **평가**: 개선 필요
- **의견**:
  - 구체적인 에러 메시지 문구가 정의되지 않아 테스트 작성 시 검증 어려움
  - "잘못된 날짜 형식"의 구체적 예시 부족
  - 경고 메시지의 정확한 반환 구조 미정의
  - 경계값(100년 정확히)의 동작 미명시

### 일관성
- **평가**: 개선 필요
- **의견**:
  - 기본 동작(3번 항목): "시작일과 종료일이 같으면 유효"
  - 엣지 케이스(5번 항목): "같은 날짜: 유효"
  - 위 두 항목은 중복이며, 엣지 케이스가 아닌 기본 동작입니다
  - 출력 형식이 에러와 경고 발생 시 어떻게 변하는지 일관성 없음 (예: `{ isValid: true, warning: string }`?)

---

## 개선된 명세

# 기능 명세: 날짜 범위 검증 함수

## 기능 설명
두 날짜 사이의 기간이 유효한지 검증하는 함수 `validateDateRange`를 구현합니다.

## 함수 시그니처
```typescript
interface DateInput {
  startDate: Date | string;
  endDate: Date | string;
}

interface ValidationResult {
  isValid: boolean;
  error?: string;
  warning?: string;
}

function validateDateRange(startDate: Date | string, endDate: Date | string): ValidationResult
```

## 요구사항

### 1. 입력 형식
- **Date 객체**: JavaScript Date 인스턴스
- **문자열**: ISO 8601 형식 (`YYYY-MM-DD` 또는 `YYYY-MM-DDTHH:mm:ss.sssZ`)
- 모든 날짜는 UTC 기준으로 처리됩니다
- 시간 정보가 없는 경우 자정(00:00:00)으로 간주됩니다

### 2. 유효성 판단 기준
날짜 범위가 유효하려면 다음 조건을 만족해야 합니다:
- `startDate <= endDate` (시작일이 종료일보다 이전이거나 같음)

### 3. 출력 형식

#### 3.1 유효한 경우
```typescript
{ isValid: true }
```

#### 3.2 경고를 포함한 유효한 경우
```typescript
{ 
  isValid: true, 
  warning: "Date range exceeds 100 years (36500 days). Please verify this is intentional." 
}
```
- 날짜 차이가 100년(36,500일)을 **초과**하는 경우 경고 포함
- 정확히 36,500일인 경우는 경고 없음

#### 3.3 무효한 경우
```typescript
{ 
  isValid: false, 
  error: "[구체적인 에러 메시지]" 
}
```

### 4. 에러 처리

| 조건 | 에러 메시지 |
|------|------------|
| `startDate`가 `null` 또는 `undefined` | `"startDate is required"` |
| `endDate`가 `null` 또는 `undefined` | `"endDate is required"` |
| `startDate`가 잘못된 문자열 형식 | `"startDate is not a valid date format"` |
| `endDate`가 잘못된 문자열 형식 | `"endDate is not a valid date format"` |
| `startDate`가 Invalid Date | `"startDate is invalid"` |
| `endDate`가 Invalid Date | `"endDate is invalid"` |
| `startDate > endDate` | `"startDate must be less than or equal to endDate"` |
| 지원하지 않는 타입 | `"startDate must be a Date object or ISO 8601 string"` |

**에러 발생 시**: 예외를 throw하지 않고, `{ isValid: false, error: string }` 객체를 반환합니다.

### 5. 테스트 케이스

#### 5.1 정상 케이스
| 입력 | 기대 결과 |
|------|----------|
| `startDate: '2024-01-01', endDate: '2024-12-31'` | `{ isValid: true }` |
| `startDate: new Date('2024-01-01'), endDate: new Date('2024-01-01')` | `{ isValid: true }` |
| `startDate: '2024-01-01', endDate: '2024-01-02'` | `{ isValid: true }` |

#### 5.2 경고 케이스
| 입력 | 기대 결과 |
|------|----------|
| `startDate: '1900-01-01', endDate: '2024-01-02'` (36,501일) | `{ isValid: true, warning: "Date range exceeds 100 years..." }` |
| `startDate: '1900-01-01', endDate: '2000-01-01'` (정확히 36,525일, 윤년 포함) | `{ isValid: true, warning: "Date range exceeds 100 years..." }` |

#### 5.3 에러 케이스
| 입력 | 기대 결과 |
|------|----------|
| `startDate: null, endDate: '2024-01-01'` | `{ isValid: false, error: "startDate is required" }` |
| `startDate: '2024-13-01', endDate: '2024-12-31'` | `{ isValid: false, error: "startDate is not a valid date format" }` |
| `startDate: 'invalid', endDate: '2024-12-31'` | `{ isValid: false, error: "startDate is not a valid date format" }` |
| `startDate: new Date('invalid'), endDate: '2024-12-31'` | `{ isValid: false, error: "startDate is invalid" }` |
| `startDate: '2024-12-31', endDate: '2024-01-01'` | `{ isValid: false, error: "startDate must be less than or equal to endDate" }` |
| `startDate: 123456789, endDate: '2024-01-01'` | `{ isValid: false, error: "startDate must be a Date object or ISO 8601 string" }` |

### 6. 특수 상황 처리

#### 6.1 윤년
- 윤년의 2월 29일을 올바르게 처리해야 합니다
- 예: `'2024-02-29'`는 유효, `'2023-02-29'`는 무효

#### 6.2 시간대
- 모든 날짜는 UTC로 정규화하여 비교합니다
- 문자열에 시간대 정보가 있으면 UTC로 변환 후 처리

#### 6.3 날짜 차이 계산
- 100년 기준: 36,500일 (윤년 미고려 평균값)
- 실제 일수로 계산하며, 입력된 날짜 범위의 윤년을 포함한 정확한 일수로 판단

### 7. 구현 제약사항
- 외부 라이브러리(moment.js, date-fns 등) 사용 가능
- 순수 JavaScript Date API로도 구현 가능해야 함
- 함수는 순수 함수(pure function)여야 함 (부수 효과 없음)

---

이 개선된 명세는 모호성을 제거하고, 모든 엣지 케이스를 정의하며, 구체적인 테스트 케이스를 제공하여 구현과 테스트가 명확하게 가능하도록 작성되었습니다.
